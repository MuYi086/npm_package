class ImgToBase64{parse(e){if("object"==typeof e)return this.useCanvas(e);if("string"==typeof e&&/^http[s]?:\/\/.*(png|jpg|jpeg|bmp|gif|svg|)$/.test(e)){const n=this;var t=new Image;t.crossOrigin="anonymous",t.src=e+"?v="+Math.random(),t.onload=function(){n.useCanvas(t)}}}useCanvas(e){if(uni)return new Error("暂不支持uniapp");{const t=document.createElement("canvas");t.width=e.width,t.height=e.height;t.getContext("2d").drawImage(e,0,0,e.width,e.height);const n=t.toDataURL("image/png");return console.log(n),n}}}const imgToBase64=new ImgToBase64;module.exports=imgToBase64;