"use strict";var r=Object.defineProperty;var a=Object.getOwnPropertyDescriptor;var c=Object.getOwnPropertyNames;var d=Object.prototype.hasOwnProperty;var p=(s,e)=>{for(var t in e)r(s,t,{get:e[t],enumerable:!0})},m=(s,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of c(e))!d.call(s,n)&&n!==t&&r(s,n,{get:()=>e[n],enumerable:!(i=a(e,n))||i.enumerable});return s};var g=s=>m(r({},"__esModule",{value:!0}),s);var O={};p(O,{cal:()=>b});module.exports=g(O);var h=class{constructor(){this.suitArr=["0","1","2","3","4","5","6","7","8","9","."];this.signArr=["+","-","*","/"]}dealBracket(e){e=this.dropSign(e);let t=e.split(")").length-1;for(let l=0;l<t;l++){let u=e.indexOf(")"),f=e.substr(0,u+1).lastIndexOf("("),o=e.slice(f,u+1);e=e.slice(0,f)+this.dealNeedlessSign(o,1)+e.slice(u+1,e.length)}let i=this.cutStr(e);return this.simpleOperation(i)}dealNeedlessSign(e,t){t===1&&(e=e.slice(1,e.length-1));let i=this.cutStr(e);return this.simpleOperation(i)}simpleOperation(e){for(;e.length>=3;){let t=e.indexOf("*")>0,i=e.indexOf("/")>0;if(t)i?t<i?e=this.doOperation(e,"*"):e=this.doOperation(e,"/"):e=this.doOperation(e,"*");else if(i)e=this.doOperation(e,"/");else{let n=e.indexOf("+")>0,l=e.indexOf("-")>0;n?l?n<l?e=this.doOperation(e,"+"):e=this.doOperation(e,"-"):e=this.doOperation(e,"+"):l&&(e=this.doOperation(e,"-"))}}return e[0]}doOperation(e,t){for(;e.indexOf(t)>0&&e.indexOf(t)<e.length-1;){let i=e.indexOf(t),n=-1;t==="*"&&(n=Number(e[i-1])*Number(e[i+1])),t==="/"&&(n=Number(e[i-1])/Number(e[i+1])),t==="+"&&(n=Number(e[i-1])+Number(e[i+1])),t==="-"&&(n=Number(e[i-1])-Number(e[i+1])),e.splice(i-1,3,n)}return e}cutStr(e){let t=[],i="";for(let l=0;l<e.length;l++)l===e.length-1?(i+=e.charAt(l),t.push(i)):this.signArr.includes(e.charAt(l))?e.charAt(l)==="-"?i.indexOf("-")<0?(i!==""&&t.push(i),i="-"):(i==="-"||(t.push(i),t.push(e.charAt(l))),i=""):(i!==""&&t.push(i),t.push(e.charAt(l)),i=""):i+=e.charAt(l);let n=[];for(let l=0;l<t.length;l++)!isNaN(Number(t[l-1]))&&!isNaN(Number(t[l]))&&n.push(l);return n.reverse().forEach(l=>{t.splice(l,0,"+")}),t}dropSign(e){let t=e.split(""),i=[],n=[];for(let l in t)this.signArr.includes(t[l])&&i.push(Number(l));return i.length>1&&i.reduce(function(l,u){return Number(u)-Number(l)===1&&n.push(Number(l)),u}),n.reverse().forEach(l=>{t.splice(l,1)}),t.reduce(function(l,u){return String(l)+u})}},b=new h;
