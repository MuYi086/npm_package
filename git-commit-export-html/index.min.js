const{gitlogPromise:e}=require("gitlog"),t=require("@muyi086/git-commit-info"),{resolve:o}=require("path"),i=require("fs"),r=e=>({repo:o(".git"),execOptions:{maxBuffer:1024e3},...e}),n=(e,o)=>{const{gitUserName:r}=t(),n=e.filter((e=>e.authorName===r)).filter((e=>!e.subject.includes("Merge"))).map((e=>{const t={};return o.fields.forEach((o=>{t[o]=e[o]})),t}));let l="<html>";for(let e=0;e<n.length;e++){l+=`${e+1}、${n[e].subject};<br/>`}l+="</html>",i.writeFileSync("commintLogConsole.json",`${JSON.stringify(n)}`),i.writeFileSync("commintLogConsole.html",l)};function l(t){const o=r(t);e(o).then((e=>n(e,t))).catch((e=>console.log(e)))}module.exports=l;