const{gitlogPromise:gitlogPromise}=require("gitlog"),gitCommitInfo=require("@muyi086/git-commit-info"),{resolve:resolve}=require("path"),fs=require("fs"),constructOptions=t=>({repo:resolve(".git"),execOptions:{maxBuffer:1024e3},...t}),findCurrentUseCommit=(t,e)=>{const{gitUserName:o}=gitCommitInfo(),i=t.filter((t=>t.authorName===o)).filter((t=>!t.subject.includes("Merge"))).map((t=>{const o={};return e.fields.forEach((e=>{o[e]=t[e]})),o}));let r="<html>";for(let t=0;t<i.length;t++){r+=`${t+1}、${i[t].subject};<br/>`}r+="</html>",fs.writeFileSync("commintLogConsole.json",`${JSON.stringify(i)}`),fs.writeFileSync("commintLogConsole.html",r)};function gitCommitExportHtml(t){const e=constructOptions(t);gitlogPromise(e).then((e=>findCurrentUseCommit(e,t))).catch((t=>console.log(t)))}module.exports=gitCommitExportHtml;