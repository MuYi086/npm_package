class VerifyCode{constructor(){this.numArr=[],this.letterArrSm=[],this.letterArrBg=[],this.options={},this.init()}init(){for(let t=0;t<10;t++)this.numArr.push(t);for(let t=65;t<91;t++)this.letterArrBg.push(String.fromCharCode(t));for(let t=97;t<123;t++)this.letterArrSm.push(String.fromCharCode(t));this.options={len:4,width:80,height:40,slash:!0,point:!0,slachNum:3,pointNum:20}}random(t,e,n=!0,i=!0){this.options.len=e,this.options.width=20*e+10,this.options.slash=n,this.options.point=i;let s=[];1===t&&(s=[...this.numArr]),2===t&&(s=[...this.letterArrSm,...this.letterArrBg]),3===t&&(s=[...this.numArr,...this.letterArrSm,...this.letterArrBg]);let o=this.doRandom(s);console.log(o)}doRandom(t){let e=this.options.len;if(0===e)return!1;let n=[],i=[];for(let s=0;s<e;s++){let e=t[this.newInt(t.length)];n.push(e),e="number"==typeof e?e:e.toUpperCase(),i.push(e)}return console.log(n),this.drawImg(n),i}newInt(t,e){return 1===arguments.length?Math.floor(Math.random()*t):2===arguments.length?Math.floor(t+Math.random()*(e-t)):void 0}drawImg(t){let e;e=uni?document.querySelector("#canvas canvas"):document.querySelector("#canvas");let n=this.options.width,i=this.options.height,s=e.getContext("2d");s.fillStyle="#eee",s.fillRect(0,0,n,i);for(let e=0;e<t.length;e++)s.fillStyle=`rgb(${this.newInt(256)}, ${this.newInt(256)}, ${this.newInt(256)})`,s.font=`${this.newInt(15,25)}px Arial`,s.fillText(t[e],20*e+10,this.newInt(20,40));if(this.options.slash)for(let t=0;t<this.options.slachNum;t++)s.beginPath(),s.strokeStyle=`rgb(${this.newInt(256)}, ${this.newInt(256)}, ${this.newInt(256)})`,s.moveTo(this.newInt(0,n),this.newInt(0,i)),s.lineTo(this.newInt(0,n),this.newInt(0,i)),s.stroke();if(this.options.point)for(let t=0;t<this.options.pointNum;t++)s.fillStyle=`rgb(${this.newInt(256)}, ${this.newInt(256)}, ${this.newInt(256)})`,s.beginPath(),s.arc(this.newInt(0,n),this.newInt(0,i),1,0,2*Math.PI)}}let verifyCode=new VerifyCode;module.exports=verifyCode;