var a=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var g=Object.prototype.hasOwnProperty;var w=(s,t)=>{for(var r in t)a(s,r,{get:t[r],enumerable:!0})},c=(s,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let e of p(t))!g.call(s,e)&&e!==r&&a(s,e,{get:()=>t[e],enumerable:!(o=u(t,e))||o.enumerable});return s};var b=s=>c(a({},"__esModule",{value:!0}),s);var d={};w(d,{verifyCode:()=>f});module.exports=b(d);var l=class{numArr;letterArrSm;letterArrBg;options;constructor(){this.numArr=[],this.letterArrSm=[],this.letterArrBg=[],this.options={len:4,width:80,height:40,slash:!0,point:!0,slachNum:3,pointNum:20},this.init()}init(){this.numArr=Array.from({length:10},(t,r)=>r),this.letterArrBg=Array.from({length:26},(t,r)=>String.fromCharCode(65+r)),this.letterArrSm=Array.from({length:26},(t,r)=>String.fromCharCode(97+r))}random(t,r,o=!0,e=!0){this.options.len=r,this.options.width=r*20+10,this.options.slash=o,this.options.point=e;let i=[];switch(t){case 1:i=[...this.numArr];break;case 2:i=[...this.letterArrSm,...this.letterArrBg];break;case 3:i=[...this.numArr,...this.letterArrSm,...this.letterArrBg];break;default:throw new Error("Invalid type specified")}return this.doRandom(i)}doRandom(t){let r=this.options.len;return r===0?[]:Array.from({length:r},()=>t[this.newInt(t.length)]).map(i=>typeof i=="number"?i:i.toUpperCase())}newInt(t,r){return Math.floor(r===void 0?Math.random()*t:t+Math.random()*(r-t))}drawImg(t,r="#canvas"){let o=document.querySelector(r),e=this.options.width,i=this.options.height,n=o.getContext("2d");if(!n)throw new Error("Canvas context not found");if(n.fillStyle="#eee",n.fillRect(0,0,e,i),t.forEach((h,m)=>{n.fillStyle=`rgb(${this.newInt(256)}, ${this.newInt(256)}, ${this.newInt(256)})`,n.font=`${this.newInt(15,25)}px Arial`,n.fillText(String(h),m*20+10,this.newInt(20,40))}),this.options.slash)for(let h=0;h<this.options.slachNum;h++)n.beginPath(),n.strokeStyle=`rgb(${this.newInt(256)}, ${this.newInt(256)}, ${this.newInt(256)})`,n.moveTo(this.newInt(0,e),this.newInt(0,i)),n.lineTo(this.newInt(0,e),this.newInt(0,i)),n.stroke();if(this.options.point)for(let h=0;h<this.options.pointNum;h++)n.fillStyle=`rgb(${this.newInt(256)}, ${this.newInt(256)}, ${this.newInt(256)})`,n.beginPath(),n.arc(this.newInt(0,e),this.newInt(0,i),1,0,2*Math.PI),n.fill()}},f=new l;
